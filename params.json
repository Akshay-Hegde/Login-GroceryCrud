{
  "name": "Login-grocerycrud",
  "tagline": "A Login/Logout system for GroceryCrud (codeigniter).",
  "body": "# Login-GroceryCrud\r\nA Login/Logout system for any CodeIgniter project (like GroceryCrud that don't need public user registration).\r\n\r\n### Requirement\r\n- MySQL\r\n- CodeIgniter\r\n\r\nIt use an SQL table named \"crud_users\" with \"username\",\"password\" and \"permissions\" fields. It will be created automagically if doesn't exists AND an admin user will be created too, so you can log in immediately!\r\nThe \"permissions\" field can store anything (VARCHAR 255) like a json_encode() array or just a keyword or a number, so you can manage the permissions of that user.\r\n\r\n### How to \"Install\"\r\nThere are 3 files:\r\n- application/controllers/Login.php\r\n- application/models/Login_model.php\r\n- application/views/login.php\r\n\r\nYou can edit the views/login.php as you wish (but if you leave as is it's out-of-the-box responsive and working)\r\n-AND-\r\nyou can look into the controllers/login.php file because on the top of the file there are a couple of configuration (and translations) than you can manage easily.\r\n\r\nThat's it.\r\n\r\n### Users Management - The Code\r\nHere it is the code on how to manage the users in your admin panel:\r\nhttps://github.com/portapipe/Login-GroceryCrud/wiki/Manage-the-users\r\n\r\n### Advanced tools\r\nA model file comes with the release and contains some basics stuff:\r\n- isLogged() - Return true if the player is logged, false if is not (here you can add a redirect(\"/login\") )\r\n- logout(redirect=true) - log out the user and make an instant redirect to the login page (pass 'false' as argument to not redirect)\r\n- permission() - return the user's permission field of the database or the username if the permission field doesn't exists\r\n- permissions(), getPermission() and getPermissions() are aliases of permission()\r\n- id() - return the user-id of the logged user\r\n- name() username() - return the username of the user\r\n\r\nTO USE IT you just need to load the library into your controllers files like that:\r\n```\r\n$this->load->model(\"Login_model\");\r\n```\r\nand use it like:\r\n\r\n```\r\nif($this->login_model->isLogged()){\r\n    $name = $this->login_model->name();\r\n    echo \"HI $name! You are Logged IN!\";\r\n}else{\r\n    redirect(\"/login\");\r\n}\r\n```\r\n\r\nPretty easy, uh?\r\n\r\n\r\n\r\n### Example: Permissions for GroceryCrud\r\n##### Note: I'm using some names like 'admin' or 'author' for the example but you can use really anything you want!\r\nIn this example you have a blog website. You need an \"admin\" user, an \"author\" user and a \"revisioner\" user.\r\n\r\nThe \"admin\" users will have any permission, so create the basic CRUD page with any permission you want to give them, like the ability to manage any user.\r\nThe \"author\" users can add and see their own articles, so we must show them just their work.\r\nWe can use a `$crud->where('author',$this->login_model->id())` and force the field 'author' in the add page to be the author's ID and non-editable by the user.\r\nFinally the \"revisioner\" users can edit and delete any articles BUT can't add a new one, so we can unset the add button with `$crud->unset_add()` and we are done.\r\n\r\n```\r\n$permission = $this->login_model->permission();\r\nif($permission==\"admin\"){\r\n    echo \"Hey, you're the boss, you can do anything!\";\r\n}\r\n\r\nif($permission==\"author\"){\r\n    $crud->where('author',$this->login_model->id());\r\n    $crud->callback_before_insert(array($this,'useAuthorID'));\r\n}\r\nfunction useAuthorID($post_array) {\r\n    $post_array['author'] = $this->login_model->id();\r\n    return $post_array;\r\n}   \r\n\r\nif($permission==\"revisioner\"){\r\n    $crud->unset_add();\r\n}\r\n\r\nif($permission==\"\"){\r\n    echo \"I think you shouldn't be here...\";\r\n}\r\n```\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}